<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>fplutil: print.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,700" rel="stylesheet">
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="commonprojectlogo">
    <img alt="Logo" src="fpl_logo_small.png"/>
  </td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">fplutil
   </div>
   <div style="font-size:12px;">
	 An open source project by
     <a href="https://developers.google.com/games/#Tools">FPL</a>.
  </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="fplutil_prerequisites.html"><span>Prerequisites</span></a></li>
      <li><a href="libfplutil_overview.html"><span>libfplutil</span></a></li>
      <li><a href="android_ndk_perf.html"><span>android_ndk_perf.py</span></a></li>
      <li><a href="build_all_android.html"><span>build_all_android.py</span></a></li>
      <li><a href="buildutil_overview.html"><span>buildutil</span></a></li>
      <li><a href="md_readme.html#fplutil_readme"><span>readme</span></a></li>
      <li><a href="contributing.html"><span>contributing</span></a></li>
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('print_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">print.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;android/log.h&gt;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
</div>
<p><a href="print_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acdb0073da65fa69af2d8adc2cd874252"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="print_8h.html#acdb0073da65fa69af2d8adc2cd874252">AndroidLogOutputFunction</a> )(int priority, const char *tag, const char *format, va_list list)</td></tr>
<tr class="separator:acdb0073da65fa69af2d8adc2cd874252"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adda7aff401767be3d848652a1bbd0114"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="print_8h.html#adda7aff401767be3d848652a1bbd0114">SetAndroidLogWrapperTag</a> (const char *tag)</td></tr>
<tr class="separator:adda7aff401767be3d848652a1bbd0114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bcb4cf5ef6ee9f01763abcfc595bda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="print_8h.html#a48bcb4cf5ef6ee9f01763abcfc595bda">SetAndroidLogWrapperPriority</a> (int priority)</td></tr>
<tr class="separator:a48bcb4cf5ef6ee9f01763abcfc595bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d24d2e230c5cbd2e2a0da7d79d082e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="print_8h.html#a00d24d2e230c5cbd2e2a0da7d79d082e">SetAndroidLogWrapperBufferSize</a> (size_t size)</td></tr>
<tr class="separator:a00d24d2e230c5cbd2e2a0da7d79d082e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb85d2a7b709f3e4457cd67541b0266f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="print_8h.html#abb85d2a7b709f3e4457cd67541b0266f">SetAndroidStdioOutputFunction</a> (<a class="el" href="print_8h.html#acdb0073da65fa69af2d8adc2cd874252">AndroidLogOutputFunction</a> func)</td></tr>
<tr class="separator:abb85d2a7b709f3e4457cd67541b0266f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0db47d8efc596588f39408c3aa1f9d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="print_8h.html#ad0db47d8efc596588f39408c3aa1f9d4">AndroidPerrorMsg</a> (const char *msg, int err, char *msgout, size_t outsize)</td></tr>
<tr class="separator:ad0db47d8efc596588f39408c3aa1f9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header for libfplutil_print.</p>
<p>libfplutil_print makes it easy to redirect writes to the standard output stream to the Android log. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="acdb0073da65fa69af2d8adc2cd874252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* AndroidLogOutputFunction)(int priority, const char *tag, const char *format, va_list list)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the function signature to use if you would like to intercept printf calls in your code. See SetAndroidLogOutputFunction().</p>
<p>The first two parameters to this function are the log priority and tag, respectively. The remaining ones are the same as for the stdio function vprintf(), and overall the expected semantics for this function are the same as for vprintf(). Please see: <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/vfprintf.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/vfprintf.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>Android log priority. </td></tr>
    <tr><td class="paramname">tag</td><td>Tag to display before the logged string. </td></tr>
    <tr><td class="paramname">format</td><td>printf format string. </td></tr>
    <tr><td class="paramname">list</td><td>Additional list of arguments referenced by the printf format string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad0db47d8efc596588f39408c3aa1f9d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AndroidPerrorMsg </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msgout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An internal function that will behave like a snprintf-based version of perror. Used by __wrap_perror() and factored out/exposed to be testable.</p>
<p>Output should look equivalent to what you would expect for:</p>
<div class="fragment"><div class="line">sprintf(msgout, <span class="stringliteral">&quot;%s: %s&quot;</span>, msg, strerror(err));</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">strcpy(msgout, strerror(err));</div>
</div><!-- fragment --><p>depending on the value of msg.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>An optional message to prepend to the error to be printed. May be NULL. </td></tr>
    <tr><td class="paramname">err</td><td>The error value to be printed (via strerror). Error value behavior is the same as for strerror. </td></tr>
    <tr><td class="paramname">msgout</td><td>The output buffer. Must not be NULL. </td></tr>
    <tr><td class="paramname">outsize</td><td>The size of the memory pointed to by the output buffer. msgout will be null-terminated to this length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a00d24d2e230c5cbd2e2a0da7d79d082e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SetAndroidLogWrapperBufferSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the buffer size for the wrappers. Default is 256 bytes. Setting this to zero will force unbuffered output, which may have unexpected formatting such as additional newlines as text is immediately sent to the log. Nonzero values will accumulate writes until a newline is encountered or the buffer size is reached.</p>
<p>Buffering is done to allow multiple stdio calls to output on the same line, as per normal behavior of stdio. So, something like this:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (i = 0; i &lt; 5; ++i) {</div>
<div class="line">   printf(<span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;1&#39;</span> + i);</div>
<div class="line">}</div>
</div><!-- fragment --><p>would output:</p>
<div class="fragment"><div class="line">12345</div>
</div><!-- fragment --><p>and not five separate log lines, which is the unbuffered behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes to use for buffering. 0 sets unbuffered mode. Default is 256 bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if buffer allocation failed (nonfatal, buffer is unchanged) </dd></dl>

</div>
</div>
<a class="anchor" id="a48bcb4cf5ef6ee9f01763abcfc595bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetAndroidLogWrapperPriority </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the priority used for log output by the wrappers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>An android log priority, as described in the Android NDK header file android/log.h. Default is ANDROID_LOG_INFO from that file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adda7aff401767be3d848652a1bbd0114"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SetAndroidLogWrapperTag </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the tag used for log output by the wrappers. This can used when filtering the output of "adb logcat" to distinguish the log messages from this application vs. other applications and the rest of the system. Note that this pointer is simply assigned so it must have permanent lifetime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>A null terminated C string to use as the log tag. Default is "main".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if tag is null or an empty string. </dd></dl>

</div>
</div>
<a class="anchor" id="abb85d2a7b709f3e4457cd67541b0266f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetAndroidStdioOutputFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="print_8h.html#acdb0073da65fa69af2d8adc2cd874252">AndroidLogOutputFunction</a>&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the function called when these wrappers perform output. This defaults to __android_log_vprint(), which will cause the output to go to the Android log. You may intercept the output yourself by setting this function. Do not call any stdio output functions or use C++ std::cout/cerr from the function you set here, or infinite recursion will result.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>A function pointer of typedef AndroidLogOutputFunction to use for stdio output. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49880327-7', 'google.github.io');
ga('send', 'pageview');
</script>
</body>
</html>
